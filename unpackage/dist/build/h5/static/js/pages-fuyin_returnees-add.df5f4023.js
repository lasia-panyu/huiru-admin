(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-fuyin_returnees-add"],{"4ad5":function(t,a,e){"use strict";e.r(a);var r=e("fdd8"),n=e("8df9");for(var o in n)"default"!==o&&function(t){e.d(a,t,(function(){return n[t]}))}(o);var l,i=e("f0c5"),s=Object(i["a"])(n["default"],r["b"],r["c"],!1,null,null,null,!1,r["a"],l);a["default"]=s.exports},"8df9":function(t,a,e){"use strict";e.r(a);var r=e("b312"),n=e.n(r);for(var o in r)"default"!==o&&function(t){e.d(a,t,(function(){return r[t]}))}(o);a["default"]=n.a},"954e":function(t,a,e){"use strict";var r=e("4ea4");e("4d63"),e("ac1f"),e("25f0"),Object.defineProperty(a,"__esModule",{value:!0}),a.filterToWhere=s,a.enumConverter=a.validator=void 0;var n=r(e("3835")),o=r(e("b85c")),l={name:{rules:[{required:!0},{format:"string"},{minLength:2}],label:"姓名"},mobile:{rules:[{required:!0},{format:"string"},{pattern:"^\\+?[0-9-]{3,20}$"}],label:"手机号码"},idcard_type:{rules:[{format:"int"},{range:[{text:"身份证",value:0},{text:"护照",value:1},{text:"军官证",value:2},{text:"港澳身份证",value:3}]}],defaultValue:0,label:"证件类型"},idcard:{rules:[{format:"string"}],label:"证件号码"},address:{rules:[{required:!0},{format:"string"},{minLength:3}],label:"本地住址"},from_abroad:{rules:[{required:!0},{format:"bool"}],defaultValue:!1,label:"是否来自国外"},province_code:{rules:[{format:"string"}]},city_code:{rules:[{format:"string"}]},area_code:{rules:[{format:"string"}],label:"来源地省市区"},from_address:{rules:[{required:!0},{format:"string"},{minLength:3}],label:"来源地地址"},transport:{rules:[{format:"int"},{range:[{text:"飞机",value:0},{text:"火车",value:1},{text:"长途汽车",value:2},{text:"自驾",value:3},{text:"轮船",value:4}]}],label:"交通工具类型"},transport_no:{rules:[{format:"string"}],label:"交通工具班次"},status:{rules:[{required:!0},{format:"int"},{range:[{text:"居家隔离",value:0},{text:"集中隔离",value:1},{text:"解除隔离",value:2},{text:"送医",value:3},{text:"出院居家隔离",value:4},{text:"康复",value:5},{text:"死亡",value:6}]}],label:"状态"},comment:{rules:[{format:"string"}],label:"备注"},Health_code:{rules:[{format:"int"},{range:[{text:"绿色",value:0},{text:"黄色",value:1},{text:"红色",value:2}]}],label:"健康码颜色"},na_test_time:{rules:[{format:"timestamp"},{minimum:16094304e5}],label:"核酸检测时间"},na_test_result:{rules:[{format:"int"},{range:[{text:"阴性",value:0},{text:"阳性",value:1}]}],label:"核酸检测结果"},temperature:{rules:[{format:"double"},{minimum:36,maximum:40}],label:"体温"},cough:{rules:[{format:"bool"}],label:"是否咳嗽"}};a.validator=l;var i={idcard_type_valuetotext:{0:"身份证",1:"护照",2:"军官证",3:"港澳身份证"},transport_valuetotext:{0:"飞机",1:"火车",2:"长途汽车",3:"自驾",4:"轮船"},status_valuetotext:{0:"居家隔离",1:"集中隔离",2:"解除隔离",3:"送医",4:"出院居家隔离",5:"康复",6:"死亡"},Health_code_valuetotext:{0:"绿色",1:"黄色",2:"红色"},na_test_result_valuetotext:{0:"阴性",1:"阳性"}};function s(t,a){var e={};for(var r in t){var l=t[r],i=l.type,s=l.value;switch(i){case"search":"string"===typeof s&&s.length&&(e[r]=new RegExp(s));break;case"select":if(s.length){var u,m=[],c=(0,o.default)(s);try{for(c.s();!(u=c.n()).done;){var d=u.value;m.push(a.eq(d))}}catch(k){c.e(k)}finally{c.f()}e[r]=a.or(m)}break;case"range":if(s.length){var f=s[0],v=s[1];e[r]=a.and([a.gte(f),a.lte(v)])}break;case"date":if(s.length){var b=(0,n.default)(s,2),p=b[0],_=b[1],x=new Date(p),h=new Date(_);e[r]=a.and([a.gte(x),a.lte(h)])}break;case"timestamp":if(s.length){var D=(0,n.default)(s,2),g=D[0],y=D[1];e[r]=a.and([a.gte(g),a.lte(y)])}break}}return e}a.enumConverter=i},b312:function(t,a,e){"use strict";(function(t){var r=e("4ea4");e("caad"),e("b64b"),e("d3b7"),e("2532"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=r(e("5530")),o=e("954e"),l=t.database(),i=(l.command,"fuyin_returnees");function s(t){var a={};for(var e in o.validator)t.includes(e)&&(a[e]=o.validator[e]);return a}var u={data:function(){var t={name:"",mobile:"",idcard_type:0,idcard:"",address:"",from_abroad:!1,province_code:"",city_code:"",area_code:"",from_address:"",transport:null,transport_no:"",status:null,comment:"",Health_code:null,na_test_time:null,na_test_result:null,temperature:null,cough:null};return{formData:t,formOptions:{idcard_type_localdata:[{text:"身份证",value:0},{text:"护照",value:1},{text:"军官证",value:2},{text:"港澳身份证",value:3}],transport_localdata:[{text:"飞机",value:0},{text:"火车",value:1},{text:"长途汽车",value:2},{text:"自驾",value:3},{text:"轮船",value:4}],status_localdata:[{text:"居家隔离",value:0},{text:"集中隔离",value:1},{text:"解除隔离",value:2},{text:"送医",value:3},{text:"出院居家隔离",value:4},{text:"康复",value:5},{text:"死亡",value:6}],Health_code_localdata:[{text:"绿色",value:0},{text:"黄色",value:1},{text:"红色",value:2}],na_test_result_localdata:[{text:"阴性",value:0},{text:"阳性",value:1}]},rules:(0,n.default)({},s(Object.keys(t)))}},onReady:function(){this.$refs.form.setRules(this.rules)},methods:{submit:function(){var t=this;uni.showLoading({mask:!0}),this.$refs.form.validate().then((function(a){t.submitForm(a)})).catch((function(){uni.hideLoading()}))},submitForm:function(t){var a=this;l.collection(i).add(t).then((function(t){uni.showToast({title:"新增成功"}),a.getOpenerEventChannel().emit("refreshData"),setTimeout((function(){return uni.navigateBack()}),500)})).catch((function(t){uni.showModal({content:t.message||"请求服务失败",showCancel:!1})})).finally((function(){uni.hideLoading()}))}}};a.default=u}).call(this,e("a9ff")["default"])},fdd8:function(t,a,e){"use strict";e.d(a,"b",(function(){return n})),e.d(a,"c",(function(){return o})),e.d(a,"a",(function(){return r}));var r={uniForms:e("5603").default,uniFormsItem:e("a927").default,uniEasyinput:e("7b6b").default,uniDataCheckbox:e("87bd").default,uniDataPicker:e("70b7").default,uniDatetimePicker:e("73c8").default},n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-uni-view",{staticClass:"uni-container"},[e("uni-forms",{ref:"form",attrs:{value:t.formData,validateTrigger:"bind"}},[e("uni-forms-item",{attrs:{name:"name",label:"姓名",required:!0}},[e("uni-easyinput",{attrs:{trim:"both"},model:{value:t.formData.name,callback:function(a){t.$set(t.formData,"name",a)},expression:"formData.name"}})],1),e("uni-forms-item",{attrs:{name:"mobile",label:"手机号码",required:!0}},[e("uni-easyinput",{attrs:{trim:"both"},model:{value:t.formData.mobile,callback:function(a){t.$set(t.formData,"mobile",a)},expression:"formData.mobile"}})],1),e("uni-forms-item",{attrs:{name:"idcard_type",label:"证件类型"}},[e("uni-data-checkbox",{attrs:{localdata:t.formOptions.idcard_type_localdata},model:{value:t.formData.idcard_type,callback:function(a){t.$set(t.formData,"idcard_type",a)},expression:"formData.idcard_type"}})],1),e("uni-forms-item",{attrs:{name:"idcard",label:"证件号码"}},[e("uni-easyinput",{attrs:{trim:"both"},model:{value:t.formData.idcard,callback:function(a){t.$set(t.formData,"idcard",a)},expression:"formData.idcard"}})],1),e("uni-forms-item",{attrs:{name:"address",label:"本地住址",required:!0}},[e("uni-easyinput",{attrs:{trim:"both"},model:{value:t.formData.address,callback:function(a){t.$set(t.formData,"address",a)},expression:"formData.address"}})],1),e("uni-forms-item",{attrs:{name:"from_abroad",label:"是否来自国外",required:!0}},[e("v-uni-switch",{attrs:{checked:t.formData.from_abroad},on:{change:function(a){arguments[0]=a=t.$handleEvent(a),t.binddata("from_abroad",a.detail.value)}}})],1),e("uni-forms-item",{attrs:{name:"province_code",label:""}},[e("uni-easyinput",{attrs:{placeholder:"省级编码，冗余存储"},model:{value:t.formData.province_code,callback:function(a){t.$set(t.formData,"province_code",a)},expression:"formData.province_code"}})],1),e("uni-forms-item",{attrs:{name:"city_code",label:""}},[e("uni-easyinput",{attrs:{placeholder:"地级编码，冗余存储"},model:{value:t.formData.city_code,callback:function(a){t.$set(t.formData,"city_code",a)},expression:"formData.city_code"}})],1),e("uni-forms-item",{attrs:{name:"area_code",label:"来源地省市区"}},[e("uni-data-picker",{attrs:{"self-field":"code","parent-field":"parent_code",collection:"opendb-city-china",orderby:"value asc",field:"code as value, name as text, eq(type, 2) as isleaf"},model:{value:t.formData.area_code,callback:function(a){t.$set(t.formData,"area_code",a)},expression:"formData.area_code"}})],1),e("uni-forms-item",{attrs:{name:"from_address",label:"来源地地址",required:!0}},[e("uni-easyinput",{attrs:{trim:"both"},model:{value:t.formData.from_address,callback:function(a){t.$set(t.formData,"from_address",a)},expression:"formData.from_address"}})],1),e("uni-forms-item",{attrs:{name:"transport",label:"交通工具类型"}},[e("uni-data-checkbox",{attrs:{localdata:t.formOptions.transport_localdata},model:{value:t.formData.transport,callback:function(a){t.$set(t.formData,"transport",a)},expression:"formData.transport"}})],1),e("uni-forms-item",{attrs:{name:"transport_no",label:"交通工具班次"}},[e("uni-easyinput",{attrs:{placeholder:"飞机航班,火车车次,汽车班次,自驾车牌等",trim:"both"},model:{value:t.formData.transport_no,callback:function(a){t.$set(t.formData,"transport_no",a)},expression:"formData.transport_no"}})],1),e("uni-forms-item",{attrs:{name:"status",label:"状态",required:!0}},[e("uni-data-checkbox",{attrs:{localdata:t.formOptions.status_localdata},model:{value:t.formData.status,callback:function(a){t.$set(t.formData,"status",a)},expression:"formData.status"}})],1),e("uni-forms-item",{attrs:{name:"comment",label:"备注"}},[e("v-uni-textarea",{staticClass:"uni-textarea-border",attrs:{trim:"both"},on:{input:function(a){arguments[0]=a=t.$handleEvent(a),t.binddata("comment",a.detail.value)}},model:{value:t.formData.comment,callback:function(a){t.$set(t.formData,"comment",a)},expression:"formData.comment"}})],1),e("uni-forms-item",{attrs:{name:"Health_code",label:"健康码颜色"}},[e("uni-data-checkbox",{attrs:{localdata:t.formOptions.Health_code_localdata},model:{value:t.formData.Health_code,callback:function(a){t.$set(t.formData,"Health_code",a)},expression:"formData.Health_code"}})],1),e("uni-forms-item",{attrs:{name:"na_test_time",label:"核酸检测时间"}},[e("uni-datetime-picker",{attrs:{"return-type":"timestamp"},model:{value:t.formData.na_test_time,callback:function(a){t.$set(t.formData,"na_test_time",a)},expression:"formData.na_test_time"}})],1),e("uni-forms-item",{attrs:{name:"na_test_result",label:"核酸检测结果"}},[e("uni-data-checkbox",{attrs:{localdata:t.formOptions.na_test_result_localdata},model:{value:t.formData.na_test_result,callback:function(a){t.$set(t.formData,"na_test_result",a)},expression:"formData.na_test_result"}})],1),e("uni-forms-item",{attrs:{name:"temperature",label:"体温"}},[e("uni-easyinput",{attrs:{type:"number"},model:{value:t.formData.temperature,callback:function(a){t.$set(t.formData,"temperature",a)},expression:"formData.temperature"}})],1),e("uni-forms-item",{attrs:{name:"cough",label:"是否咳嗽"}},[e("v-uni-switch",{attrs:{checked:t.formData.cough},on:{change:function(a){arguments[0]=a=t.$handleEvent(a),t.binddata("cough",a.detail.value)}}})],1),e("v-uni-view",{staticClass:"uni-button-group"},[e("v-uni-button",{staticClass:"uni-button",staticStyle:{width:"100px"},attrs:{type:"primary"},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.submit.apply(void 0,arguments)}}},[t._v("提交")]),e("v-uni-navigator",{staticStyle:{"margin-left":"15px"},attrs:{"open-type":"navigateBack"}},[e("v-uni-button",{staticClass:"uni-button",staticStyle:{width:"100px"}},[t._v("返回")])],1)],1)],1)],1)},o=[]}}]);